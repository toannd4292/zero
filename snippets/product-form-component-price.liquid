{%- liquid
  assign current_variant = product.selected_or_first_available_variant
-%}

<div
  class="{{ class }}"
  {% if product != blank %}
    :class="{ 'invisible': !current_variant }"
  {% endif %}
  {% if block %}
    {{ block.shopify_attributes }}
  {% endif %}
>
  {% if product != blank %}
    <span class="sr-only">{{ 'products.general.regular_price' | t }}</span>
    <span
      class="price text-theme-basic"
      x-html="current_variant ? formatMoney(current_price) : ''"
      :class="
        {
          'text-scheme-accent': current_variant && current_variant.compare_at_price && current_variant.compare_at_price > current_variant.price,
          'invisible': !current_variant
        }"
      data-product-price
      :style="current_variant && current_variant.compare_at_price && current_variant.compare_at_price > current_variant.price ? 'font-weight: bold; color: #A90606;' : 'color: #000000; font-weight: bold;'" <!-- Dynamic inline style based on variant discount status -->
    >
      {% if settings.currency_code_enable %}
        {{ current_variant.price | money_with_currency }}
      {% else %}
        {{ current_variant.price | money }}
      {% endif %}
    </span>

    <template x-if="current_variant && current_variant.compare_at_price && current_variant.compare_at_price > current_variant.price">
      <span class="text-theme-basic">
        <span class="sr-only">{{ 'products.general.sale_price' | t }}</span>
        <s data-compare-price
          class="text-scheme-meta original-price"
          x-html="formatMoney(current_variant.compare_at_price)"
          style="font-size: 1em; font-weight: bold; color: #42535C;" <!-- Original price color -->
        >
          <!-- No need for additional logic here, the template only renders when there's a discount -->
        </s>
      </span>
    </template>

    <!-- Additional unit price section remains unchanged -->
    <!-- ... existing unit price code ... -->
  {% else %}
    <!-- Fallback price display when product is blank remains unchanged -->
    <!-- ... existing fallback price code ... -->
  {% endif %}
  {%- unless hide_policies -%}
    <!-- Policies section remains unchanged -->
    <!-- ... existing policies code ... -->
  {%- endunless -%}
</div>

